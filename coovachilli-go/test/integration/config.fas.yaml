# =============================================================================
# CoovaChilli-Go Configuration - FAS Testing
# =============================================================================

server:
  http:
    host: "0.0.0.0"
    port: 3990
    read_timeout: 15s
    write_timeout: 15s

  portal:
    host: "0.0.0.0"
    port: 8080
    uam_secret: "ChangeMe"
    uam_homepage: "http://chilli-fas:8080/"

  metrics:
    enabled: true
    port: 2112
    path: "/metrics"

network:
  interface: "eth0"
  tun_device: "tun0"

  dhcp:
    subnet: "10.12.0.0/24"
    gateway: "10.12.0.1"
    dns:
      - "8.8.8.8"
      - "8.8.4.4"
    lease_time: 3600

  ipv6:
    enabled: true
    subnet: "fd10:12::/64"
    gateway: "fd10:12::1"

radius:
  auth:
    host: "radius"
    port: 1812
    secret: "testing123"
    timeout: 5s
    retries: 3

  acct:
    host: "radius"
    port: 1813
    secret: "testing123"
    timeout: 5s
    interval: 300

  coa:
    enabled: true
    port: 3799
    secret: "testing123"

  nas_id: "coovachilli-fas-test"
  nas_ip: "172.20.0.22"

fas:
  enabled: true
  url: "http://fas:8081"
  secret: "supersecretfaskey123456789"

  endpoints:
    login: "/login"
    auth: "/auth"
    validate: "/api/validate"
    callback: "/api/callback"

  token:
    algorithm: "HS256"
    expiration: 300

  parameters:
    include_mac: true
    include_ip: true
    include_nas_id: true
    include_session_id: true

firewall:
  backend: "iptables"

  allowed_ports:
    tcp: [80, 443, 8080, 8081]
    udp: [53, 67, 68]

  walled_garden:
    - "fas"
    - "172.20.0.0/16"

session:
  timeout: 3600
  idle_timeout: 600
  max_sessions: 1000

  persistence:
    enabled: false

security:
  tls:
    enabled: false

  rate_limit:
    enabled: true
    requests_per_second: 10
    burst: 20

  csrf:
    enabled: true
    token_length: 32

logging:
  level: "debug"
  format: "json"
  output: "stdout"
